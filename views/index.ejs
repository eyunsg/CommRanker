<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CommRanker</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="main.css" />
  </head>
  <body style="background-color: var(--bs-body-color)">
    <nav class="navbar navbar-expand-lg bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand text-white fw-bold ms-3" href="/">CommRanker</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active text-white" aria-current="page" href="/"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a
                type="button"
                class="nav-link text-white"
                data-bs-toggle="modal"
                data-bs-target="#contact-Modal"
              >
                Contact
              </a>
              <div
                class="modal fade"
                id="contact-Modal"
                tabindex="-1"
                aria-labelledby="contact-ModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="contact-ModalLabel">
                        Developer Email
                      </h1>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">iyunsung423@gmail.com</div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        ë‹«ê¸°
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="row d-flex justify-content-center gap-4 mt-5">
      <div id="title-card" class="text-white text-center">
        <h2>ë§¤ë²ˆ ë°”ë€ŒëŠ” ETF ìˆ˜ìˆ˜ë£Œ</h2>
        <h2>ì´ ë³´ìˆ˜ë§Œ ê³µì‹œí•˜ëŠ” ì¦ê¶Œì‚¬</h2>
        <h2>CommRankerì—ì„œ í•œëˆˆì— ë¹„êµí•˜ì„¸ìš”</h2>
      </div>
      <div id="item-list" class="row d-flex justify-content-center gap-4 mb-3">
        <!-- ì²« ë²ˆì§¸ ì¹´ë“œ -->
        <div
          id="item-card"
          class="shadow w-25 card border-primary border-2"
          aria-hidden="true"
        >
          <div class="card-body">
            <h5 class="card-title placeholder-glow">
              <span class="placeholder col-10"></span>
            </h5>
            <span class="badge text-bg-primary mb-1 fs-6">ğŸ‘‘</span>
            <span class="badge text-bg-primary mb-1 fs-6">1ìœ„</span>
            <span class="badge text-bg-primary mb-1 fs-6"
              >ê°€ì¥ ë‚®ì€ ìˆ˜ìˆ˜ë£Œ</span
            >
            <p class="card-text placeholder-glow">
              <span>ì´ ë³´ìˆ˜: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ê¸°íƒ€ ë¹„ìš©: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>íŒë§¤ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
            </p>
            <a
              class="btn btn-primary disabled placeholder col-6 card-btn"
              aria-disabled="true"
            ></a>
          </div>
        </div>

        <!-- ë‘ ë²ˆì§¸ ì¹´ë“œ -->
        <div
          id="item-card"
          class="shadow card w-25 border-warning border-2"
          aria-hidden="true"
        >
          <div class="card-body">
            <h5 class="card-title placeholder-glow">
              <span class="placeholder col-10"></span>
            </h5>
            <span class="badge text-bg-warning mb-1 fs-6">ğŸ˜</span>
            <span class="badge text-bg-warning mb-1 fs-6">2ìœ„</span>
            <p class="card-text placeholder-glow">
              <span>ì´ ë³´ìˆ˜: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ê¸°íƒ€ ë¹„ìš©: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>íŒë§¤ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
            </p>
            <a
              class="btn btn-warning disabled placeholder col-6 card-btn"
              aria-disabled="true"
            ></a>
          </div>
        </div>

        <!-- ì„¸ ë²ˆì§¸ ì¹´ë“œ -->
        <div
          id="item-card"
          class="shadow card w-25 border-danger border-2"
          aria-hidden="true"
        >
          <div class="card-body">
            <h5 class="card-title placeholder-glow">
              <span class="placeholder col-10"></span>
            </h5>
            <span class="badge text-bg-danger mb-1 fs-6">â˜¹ï¸</span>
            <span class="badge text-bg-danger mb-1 fs-6"
              >ìµœì €ìˆ˜ìˆ˜ë£Œ ëŒ€ë¹„ 2ë°° ì´ìƒ</span
            >
            <p class="card-text placeholder-glow">
              <span>ì´ ë³´ìˆ˜: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ê¸°íƒ€ ë¹„ìš©: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>íŒë§¤ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
              <br />

              <span>ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: </span>
              <span class="placeholder col-3"></span>
              <span>%</span>
            </p>
            <a
              class="btn btn-danger disabled placeholder col-6 card-btn"
              aria-disabled="true"
            ></a>
          </div>
        </div>
      </div>
      <div id="search-card" class="card text-center w-50">
        <div class="card-header">ë˜‘ë˜‘í•˜ê²Œ íˆ¬ìí•˜ê¸°</div>
        <div class="card-body">
          <h4 class="card-title">
            ì´ ë³´ìˆ˜ + ê¸°íƒ€ë¹„ìš© + íŒë§¤ìˆ˜ìˆ˜ë£Œ + ì¤‘ê°œìˆ˜ìˆ˜ë£Œ
          </h4>
          <h5 class="card-text">
            ì‹¤ì œ ì§€ë¶ˆí•˜ëŠ” <strong>ì´ ë¹„ìš©</strong>ì„ ì¡°íšŒí•˜ì„¸ìš”
          </h5>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="checkbox"
              id="inlineCheckbox1"
              value="sp-500"
              checked
            />
            <label class="form-check-label" for="sp-500">S&P 500</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="checkbox"
              id="inlineCheckbox2"
              value="nasdaq-100"
            />
            <label class="form-check-label" for="nasdaq-100">ë‚˜ìŠ¤ë‹¥ 100</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="checkbox"
              id="inlineCheckbox3"
              value="dow-jones"
            />
            <label class="form-check-label" for="dow-jones"
              >ë¯¸êµ­ë°°ë‹¹ ë‹¤ìš°ì¡´ìŠ¤</label
            >
          </div>
          <br />
          <button id="calculation-btn" class="btn btn-primary mt-2">
            ìµœì‹  ìˆ˜ìˆ˜ë£Œ ì¡°íšŒí•˜ê¸°
          </button>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <script>
      const checkboxes = document.querySelectorAll(".form-check-input");

      checkboxes.forEach((checkbox) => {
        checkbox.addEventListener("change", function () {
          if (this.checked) {
            checkboxes.forEach((otherCheckbox) => {
              if (otherCheckbox !== this) {
                otherCheckbox.checked = false;
              }
            });
          }
        });
      });

      $("#calculation-btn").click(function () {
        let selectedValue = null;
        let fundCategory = "";

        checkboxes.forEach((checkbox) => {
          if (checkbox.checked) {
            selectedValue = checkbox.value;
          }

          switch (selectedValue) {
            case "sp-500":
              console.log("S&P 500");
              fundCategory = "sp500";
              break;
            case "nasdaq-100":
              console.log("Nasdaq 100");
              fundCategory = "nasdaq100";
              break;
            case "dow-jones":
              console.log("Dow Jones");
              fundCategory = "dowjones";
              break;
          }
        });

        $(".card-btn").html(`
          <div class="spinner-border spinner-border-sm" role="status">
          <span class="visually-hidden">Loading...</span>
          </div>
        `);
        this.textContent = "ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...";
        this.disabled = true;

        $.ajax({
          url: `/api/commission/${fundCategory}`,
          type: "get",
          success: (data) => {
            const itemList = $("#item-list");
            itemList.empty();

            $("#search-card").hide();

            data.sort((a, b) => a.totalCommission - b.totalCommission);

            const firstCommission = data[0].totalCommission;

            data.forEach((fund) => {
              fund.totalCommission = fund.totalCommission.toFixed(4);
            });

            data.forEach((fund) => {
              const fundNameMapping = {
                "KBRISEë¯¸êµ­ë‚˜ìŠ¤ë‹¥100ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "RISE ë‚˜ìŠ¤ë‹¥ 100 ì¼ë°˜",
                "í•œêµ­íˆ¬ìACEë¯¸êµ­ë‚˜ìŠ¤ë‹¥100ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "ACE ë‚˜ìŠ¤ë‹¥ 100 ì¼ë°˜",
                "ë¯¸ë˜ì—ì…‹TIGERë¯¸êµ­ë‚˜ìŠ¤ë‹¥100ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "TIGER ë‚˜ìŠ¤ë‹¥ 100 ì¼ë°˜",
                "ì‹ í•œSOLë¯¸êµ­ë‚˜ìŠ¤ë‹¥100ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "SOL ë‚˜ìŠ¤ë‹¥ 100 ì¼ë°˜",
                "ì‚¼ì„±KODEXë¯¸êµ­ë‚˜ìŠ¤ë‹¥100TotalReturnì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "KODEX ë‚˜ìŠ¤ë‹¥ 100 TR",

                "KBRISEë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "RISE S&P 500 ì¼ë°˜",
                "í•œêµ­íˆ¬ìACEë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "ACE S&P 500 ì¼ë°˜",
                "ë¯¸ë˜ì—ì…‹TIGERë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "TIGER S&P 500 ì¼ë°˜",
                "ì‚¼ì„±KODEXë¯¸êµ­S&P500TotalReturnì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "KODEX S&P 500 TR",
                "ì‹ í•œSOLë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "SOL S&P 500 ì¼ë°˜",
                "ìš°ë¦¬WONë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "WON S&P 500 ì¼ë°˜",
                "í•œí™”PLUSë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "PLUS S&P 500  ì¼ë°˜",
                "í‚¤ì›€KOSEFë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "KOSEF S&P 500 ì¼ë°˜",
                "NH-AmundiHANAROë¯¸êµ­S&P500ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "HANARO S&P 500 ì¼ë°˜",
                "ì‚¼ì„±KODEXë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "KODEX ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ ì¼ë°˜",
                "ë¯¸ë˜ì—ì…‹TIGERë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "TIGER ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ ì¼ë°˜",
                "ì‹ í•œSOLë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "SOL ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ ì¼ë°˜",
                "ì‹ í•œSOLë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤TotalReturnì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ì£¼ì‹]":
                  "SOL ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ TR",
                "í•œêµ­íˆ¬ìACEë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ì¦ê¶Œìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ(ì£¼ì‹)":
                  "ACE ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤ ì¼ë°˜",
                "ë¯¸ë˜ì—ì…‹TIGERê³¨ë“œì„ ë¬¼íŠ¹ë³„ìì‚°ìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ê¸ˆ-íŒŒìƒí˜•](H)":
                  "TIGER ê³¨ë“œì„ ë¬¼ (H)",
                "ì‚¼ì„±KODEXê³¨ë“œì„ ë¬¼íŠ¹ë³„ìì‚°ìƒì¥ì§€ìˆ˜íˆ¬ìì‹ íƒ[ê¸ˆ-íŒŒìƒí˜•](H)":
                  "KODEX ê³¨ë“œì„ ë¬¼ (H)",
              };

              if (fundNameMapping[fund.fundName]) {
                fund.fundName = fundNameMapping[fund.fundName];
              }
            });

            for (let i = 0; i < data.length; i++) {
              // ì²« ë²ˆì§¸ ìš”ì†Œ
              if (i === 0) {
                if (data[i].fundName.includes("TR")) {
                  const fundElement = firstTRCard(i);
                  itemList.append(fundElement);
                } else {
                  const fundElement = firstCard(i);
                  itemList.append(fundElement);
                }
              } else if (firstCommission * 2 > data[i].totalCommission) {
                if (data[i].fundName.includes("TR")) {
                  const fundElement = secondTRCard(i);
                  itemList.append(fundElement);
                } else {
                  const fundElement = secondCard(i);
                  itemList.append(fundElement);
                }
              } else {
                if (data[i].fundName.includes("TR")) {
                  const fundElement = thirdTRCard(i);
                  itemList.append(fundElement);
                } else {
                  const fundElement = thirdCard(i);
                  itemList.append(fundElement);
                }
              }
            }
            $("#title-card")
              .empty()
              .append(
                `
              <div
                class="card border-danger transparent-card mx-auto opacity-75"
                style="width: 30%"
              >
                <div class="card-header">ì£¼ì˜!</div>
                <div class="card-body text-danger">
                  <p class="card-text text-light">
                    í•´ë‹¹ ìë£ŒëŠ” <u>ì „ì›” ë§ˆì§€ë§‰ ì˜ì—…ì¼</u> ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.
                  </p>
                  <p class="card-text text-light">
                    ì •í™•í•œ ìˆ˜ìˆ˜ë£Œ ì •ë³´ëŠ” í•´ë‹¹ ì¦ê¶Œì‚¬ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
                  </p>
                </div>
              </div>
              `
              )
              .append(`<p class="text-white-50 mt-4">ì¶œì²˜ - ê¸ˆìœµíˆ¬ìí˜‘íšŒ</p>`);

            function firstCard(i) {
              return `
                <div id="item-card" class="card w-75 border-primary border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">${data[i].fundName}</h5>
                    <span class="badge text-bg-primary mb-2 fs-6">ğŸ‘‘</span>
                    <span class="badge text-bg-primary mb-2 fs-6">1ìœ„</span>
                    <span class="badge text-bg-primary mb-2 fs-6"
                      >ê°€ì¥ ë‚®ì€ ìˆ˜ìˆ˜ë£Œ</span
                    >
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                    <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                      data[i].managementCommission
                    }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-primary col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
            function firstTRCard(i) {
              return `
                <div id="item-card" class="card w-75 border-primary border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">
                      ${data[i].fundName}
                      <a type="button" data-bs-toggle="modal" data-bs-target="#TRModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle mb-1" viewBox="0 0 16 16">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                          <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                        </svg>
                      </a>

                      <div class="modal fade" id="TRModal" tabindex="-1" aria-labelledby="TRModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content bg-secondary">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5 text-white" id="TRModalLabel">TR (Total Return)</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-white fs-6 fw-light">
                              ë°°ë‹¹ì„ ë¶„ë°°ê¸ˆìœ¼ë¡œ ë‚˜ëˆ ì£¼ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ì¬íˆ¬ìí•˜ëŠ” ë°©ì‹
                            </div>
                          </div>
                        </div>
                      </div>
                      </h5>
                    <span class="badge text-bg-primary mb-2 fs-6">ğŸ‘‘</span>
                    <span class="badge text-bg-primary mb-2 fs-6">1ìœ„</span>
                    <span class="badge text-bg-primary mb-2 fs-6"
                      >ê°€ì¥ ë‚®ì€ ìˆ˜ìˆ˜ë£Œ</span
                    >
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                    <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                      data[i].managementCommission
                    }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-primary col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
            function secondCard(i) {
              return `
                <div id="item-card" class="card w-25 border-warning border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">${data[i].fundName}</h5>
                    <span class="badge text-bg-warning mb-2 fs-6">${
                      i + 1
                    }ìœ„</span>
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                   <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                     data[i].managementCommission
                   }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-warning col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
            function secondTRCard(i) {
              return `
                <div id="item-card" class="card w-25 border-warning border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">
                      ${data[i].fundName}
                      <a type="button" data-bs-toggle="modal" data-bs-target="#TRModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle mb-1" viewBox="0 0 16 16">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                          <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                        </svg>
                      </a>

                      <div class="modal fade" id="TRModal" tabindex="-1" aria-labelledby="TRModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content bg-secondary">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5 text-white" id="TRModalLabel">TR (Total Return)</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-white fs-6 fw-light">
                              ë°°ë‹¹ì„ ë¶„ë°°ê¸ˆìœ¼ë¡œ ë‚˜ëˆ ì£¼ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ì¬íˆ¬ìí•˜ëŠ” ë°©ì‹
                            </div>
                          </div>
                        </div>
                      </div>
                      </h5>
                    <span class="badge text-bg-warning mb-2 fs-6">${
                      i + 1
                    }ìœ„</span>
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                   <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                     data[i].managementCommission
                   }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-warning col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
            function thirdCard(i) {
              return `
                <div id="item-card" class="card w-25 border-danger border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">${data[i].fundName}</h5>
                    <span class="badge text-bg-danger mb-2 fs-6">â˜¹ï¸</span>
                    <span class="badge text-bg-danger mb-2 fs-6">${
                      i + 1
                    }ìœ„</span>
                    <span class="badge text-bg-danger mb-2 fs-6">ìµœì €ìˆ˜ìˆ˜ë£Œ ëŒ€ë¹„ ì•½ ${(
                      data[i].totalCommission / firstCommission
                    ).toFixed(0)}ë°°</span>
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                    <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                      data[i].managementCommission
                    }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-danger col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
            function thirdTRCard(i) {
              return `
                <div id="item-card" class="card w-25 border-danger border-2">
                  <div class="card-body">
                    <h5 class="card-title fw-bold">
                      ${data[i].fundName}
                      <a type="button" data-bs-toggle="modal" data-bs-target="#TRModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle mb-1" viewBox="0 0 16 16">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                          <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                        </svg>
                      </a>

                      <div class="modal fade" id="TRModal" tabindex="-1" aria-labelledby="TRModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content bg-secondary">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5 text-white" id="TRModalLabel">TR (Total Return)</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-white fs-6 fw-light">
                              ë°°ë‹¹ì„ ë¶„ë°°ê¸ˆìœ¼ë¡œ ë‚˜ëˆ ì£¼ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ì¬íˆ¬ìí•˜ëŠ” ë°©ì‹
                            </div>
                          </div>
                        </div>
                      </div>
                      </h5>
                    <span class="badge text-bg-danger mb-2 fs-6">â˜¹ï¸</span>
                    <span class="badge text-bg-danger mb-2 fs-6">${
                      i + 1
                    }ìœ„</span>
                    <span class="badge text-bg-danger mb-2 fs-6">ìµœì €ìˆ˜ìˆ˜ë£Œ ëŒ€ë¹„ ì•½ ${(
                      data[i].totalCommission / firstCommission
                    ).toFixed(0)}ë°°</span>
                    <p class="card-text text-black-50 mt-1">${
                      data[i].assetManagementCompany
                    }</p>
                    <p class="card-text">ì´ ë³´ìˆ˜: <strong>${
                      data[i].managementCommission
                    }%</strong></p>
                    <p class="card-text">ê¸°íƒ€ ë¹„ìš©: <strong>${
                      data[i].otherCommission
                    }%</strong></p>
                    <p class="card-text">íŒë§¤ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].initialSalesCommission +
                      data[i].postSalesCommission
                    }%</strong></p>
                    <p class="card-text">ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ: <strong>${
                      data[i].tradingCommission
                    }%</strong></p>
                    <a
                      id="total-val"
                      class="btn btn-danger col-6 card-btn w-100 fw-bold"
                      >ì´ ë¹„ìš©: <strong>${data[i].totalCommission}%</strong></a
                    >
                  </div>
                </div>
              `;
            }
          },
          error: (error) => {
            console.log(error);
            // ì—ëŸ¬ ë°œìƒ ì‹œ ë¡œë”© í™”ë©´ ìˆ¨ê¸°ê¸°
            $("#loading").hide();
          },
        });
      });
    </script>
  </body>
</html>
